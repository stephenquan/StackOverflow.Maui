<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="StackOverflow.Maui.App.SO79696605.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:so79696605="clr-namespace:StackOverflow.Maui.App.SO79696605"
    Title="Long Press Demo"
    x:DataType="so79696605:MainPage">
    <CollectionView ItemsSource="{Binding Photos}">
        <CollectionView.ItemTemplate>
            <DataTemplate x:DataType="so79696605:PhotoItemViewModel">
                <Border Padding="0" StrokeThickness="1">
                    <VerticalStackLayout>
                        <Grid>
                            <so79696605:MyImage
                                Aspect="AspectFill"
                                HeightRequest="120"
                                LongPressedCommand="{Binding ImageLongPressedCommand, Source={RelativeSource AncestorType={x:Type so79696605:MainPage}}, x:DataType='so79696605:MainPage'}"
                                LongPressedCommandParameter="{Binding .}"
                                Source="{Binding ThumbnailImageSource}"
                                WidthRequest="120" />

                            <CheckBox
                                Margin="5"
                                BackgroundColor="White"
                                HorizontalOptions="End"
                                IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                Opacity="0.8"
                                VerticalOptions="Start" />
                        </Grid>
                    </VerticalStackLayout>
                </Border>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>
